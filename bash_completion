#enable custom tab completion
shopt -s progcomp

_tab_branches()
{
	COMPREPLY=()
	curw=${COMP_WORDS[COMP_CWORD]}
	COMPREPLY=($(compgen -W '$(git branch)' -- $curw))
	return 0
}

_tab_filenames_changed()
{
	COMPREPLY=()
	curw=${COMP_WORDS[COMP_CWORD]}
	COMPREPLY=($(compgen -W "$(git status  --short | sed 's/M //g' | sed 's/?? //g' | sed 's/A //g')'" -- $curw))
	return 0
}
#tab completion for the new command
complete -F _tab_filenames_changed commit

#tab completion for the checkout command
complete -F _tab_branches checkout

#tab completion for the merge command
complete -F _tab_branches merge

#tab completion for the delete command
complete -F _tab_branches delete

#tab completion for the new command
complete -F _tab_branches new
